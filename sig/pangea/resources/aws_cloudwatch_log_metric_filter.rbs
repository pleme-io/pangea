# RBS type definitions for AWS CloudWatch Log Metric Filter

module Pangea
  module Resources
    module AWS
      # Metric transformation configuration
      type metric_transformation = {
        name: String,
        namespace: String,
        value: String,
        default_value?: Float?,
        dimensions?: Hash[String, String]?,
        unit?: ("None" | "Seconds" | "Microseconds" | "Milliseconds" | "Bytes" | "Kilobytes" | 
                "Megabytes" | "Gigabytes" | "Terabytes" | "Bits" | "Kilobits" | "Megabits" | 
                "Gigabits" | "Terabits" | "Percent" | "Count" | "Bytes/Second" | 
                "Kilobytes/Second" | "Megabytes/Second" | "Gigabytes/Second" | 
                "Terabytes/Second" | "Bits/Second" | "Kilobits/Second" | "Megabits/Second" | 
                "Gigabits/Second" | "Terabits/Second" | "Count/Second")?
      }

      # CloudWatch Log Metric Filter attributes
      type cloudwatch_log_metric_filter_attributes = {
        name: String,
        log_group_name: String,
        pattern: String,
        metric_transformation: metric_transformation
      }

      # CloudWatch Log Metric Filter computed properties
      type cloudwatch_log_metric_filter_computed_properties = {
        pattern_type: Symbol,
        extracts_numeric_value: bool,
        has_dimensions: bool,
        has_default_value: bool,
        metric_namespace: String,
        metric_name: String
      }

      # AWS CloudWatch Log Metric Filter resource function
      def aws_cloudwatch_log_metric_filter: (Symbol name, cloudwatch_log_metric_filter_attributes attributes) -> ResourceReference
    end
  end
end