module Pangea
  module Resources
    module AWS
      module Detective
        class Graph < Pangea::Resources::Base
          class Attributes < BaseAttributes
            attr_reader tags: Hash[String, String]
            attr_reader datasource_packages: Array[Hash[Symbol, untyped]]?
            attr_reader auto_enable_members: bool?
            attr_reader disable_email_notification: bool?
            attr_reader depends_on: Array[String]?
          end

          class GraphReference < Reference
            def graph_arn: () -> String
            def id: () -> String
            def created_time: () -> String
            def status: () -> String
          end

          def reference_class: () -> singleton(GraphReference)
        end
      end

      # Type-safe function for creating Detective graphs
      def aws_detective_graph: (Symbol name, ?Hash[Symbol, untyped] attributes) -> Detective::Graph::GraphReference
    end
  end
end